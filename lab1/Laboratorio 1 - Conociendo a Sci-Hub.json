{"paragraphs":[{"title":"Imports","text":"import org.apache.spark.rdd.RDD\nimport org.apache.spark.SparkContext\nimport org.joda.time.LocalDate\n\nimport au.com.bytecode.opencsv.CSVReader\nimport java.io.StringReader\n\nimport scalaj.http._\nimport scala.util.parsing.json._\n\nimport scala.util.{Try, Success, Failure}","dateUpdated":"2016-09-29T14:29:39-0300","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/scala","editorHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587486_169519168","id":"20160921-160610_1481142614","result":{"code":"SUCCESS","type":"TEXT","msg":"\nimport org.apache.spark.rdd.RDD\n\nimport org.apache.spark.SparkContext\n\nimport org.joda.time.LocalDate\n\nimport au.com.bytecode.opencsv.CSVReader\n\nimport java.io.StringReader\n\nimport scalaj.http._\n\nimport scala.util.parsing.json._\n\nimport scala.util.{Try, Success, Failure}\n"},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:29:39-0300","dateFinished":"2016-09-29T14:29:41-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:261","focus":true},{"title":"Primer Parte: Funciones","text":"/** Carga un archivo en memoria y retorna un RDD. \n  *  \n  * \n  *  @param \tfile\t\t\t\tPath al archivo \n  *  @return\tRDD[Array[String]]\tCada Array[String] tiene 6 elementos:\n  *  \t\t\t\t\t\t\t\tdate, doi, ip_code, country, city, coords\n */\ndef loadFile(file : String) : RDD[Array[String]] = {\n    val resRDD = sc.textFile(file).map(l => l.split(\"\\t\"))\n    return resRDD\n}   \n\n/** Carga una lista de archivos en memoria y retorna un unico \n  * RDD[Array[String]] con el contenido de todos los archivos. \n  *  \n  *  @param \tfiles\t\t\t\tLista de paths\n  *  @return\tRDD[Array[String]]\tCada Array[String] tiene 6 elementos:\n  *  \t\t\t\t\t\t\t\tdate, doi, ip_code, country, city, coords\n*/\ndef loadDataset(files:List[String]) : RDD[Array[String]] = {\n\n    val loaded = files.map(f => loadFile(f))\n    val emptyRDD : RDD[Array[String]] = sc.emptyRDD\n    val result = loaded.fold(emptyRDD)(_ ++ _)\n    return result\n}\n\n/** Transforma un RDD[Array(String)] en un RDD[(DateTime,Int)].\n  *  \n  *  @param \traw\t\t\t\t\tDataset \"crudo\" de sci-hub.\n  *  @return\tRDD[(LocalDate,Int)]\t\n \n*/ \ndef toDateTuple(raw: RDD[Array[String]]) : RDD[(LocalDate, Int)] = {\n    \n    val datetupleRDD = raw.map(w => w(0).split(\" \")(0))\n    val localDateDummy = LocalDate.parse(\"0001-12-12\")\n    //Uso Try para contemplar el caso de que algun log no tenga fecha en ese caso le pongo una por defecto. y a ese RDD le filtro esas lineas\n    //Sanitizo los datos\n    val result = datetupleRDD.map(d => (Try(LocalDate.parse(d)).getOrElse(LocalDate.parse(\"0001-12-12\")), 1)).filter(_._1 != localDateDummy)\n    return result\n\n}\n\n\ndef aggregateByDay(data :  RDD[(LocalDate, Int)]) : RDD[(LocalDate, Int)]= {\n\n     val result = data.reduceByKey((d,v) => d+v)\n     return result\n    \n}\n\n\ndef aggregateByMonth(data :  RDD[(LocalDate, Int)]) : RDD[(String,Int)] = {\n    val res = data.map(d => (d._1.toString(\"MM-yyyy\"), d._2))\n    val result = res.reduceByKey((m,v) => m+v)\n    return result\n}\n\ndef aggregateByWeekDay(data :  RDD[(LocalDate, Int)]) : RDD[(Int,Int)] = {\n    val dayRDD = data.map{case (d,v) => (d.getDayOfWeek, v)}\n    val result = dayRDD.reduceByKey((d,v) => d+v)\n    return result\n\n}\n\n\n","dateUpdated":"2016-09-29T14:29:43-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587486_169519168","id":"20160921-160610_1943896627","result":{"code":"SUCCESS","type":"TEXT","msg":"\nloadFile: (file: String)org.apache.spark.rdd.RDD[Array[String]]\n\nloadDataset: (files: List[String])org.apache.spark.rdd.RDD[Array[String]]\n\nwarning: Class org.joda.convert.FromString not found - continuing with a stub.\n\nwarning: Class org.joda.convert.ToString not found - continuing with a stub.\n\ntoDateTuple: (raw: org.apache.spark.rdd.RDD[Array[String]])org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)]\n\naggregateByDay: (data: org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)])org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)]\n\naggregateByMonth: (data: org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)])org.apache.spark.rdd.RDD[(String, Int)]\n\naggregateByWeekDay: (data: org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)])org.apache.spark.rdd.RDD[(Int, Int)]\n"},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:29:43-0300","dateFinished":"2016-09-29T14:29:46-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:262","focus":true},{"title":"Primera Parte: Ejecucion","text":"//val file_loaded = loadFile(\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/dec2015_short.tab\")\nval dataset_loaded = loadDataset(List(\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/sep2015.tab\",\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/oct2015.tab\",\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/nov2015.tab\",\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/dec2015.tab\",\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/jan2016.tab\",\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/scihub_data/feb2016.tab\"))\n\n\nval res = toDateTuple(dataset_loaded)\n//val res = toDateTuple(file_loaded)\n\nval downPerDayRDD = aggregateByDay(res)\n//Ordeno por fecha y aggrego por dia\nval downPerDay = aggregateByDay(res).sortBy(_._1.toString)collect()\n/** a aggregateByMonth y aggregateByWeekDay le paso el RDD de downPerDay para ahorrar calculo, tratando de mejorar la eficiencia **/\n//Agrego y Ordenado por Mes\nval downPerMonth = aggregateByMonth(downPerDayRDD).sortBy(_._1).collect()\n//Agrego Ordeno por dia de la semana \nval downPerWeekDay = aggregateByWeekDay(downPerDayRDD).sortBy(_._1).collect()\nprintln(downPerWeekDay)","dateUpdated":"2016-09-29T14:53:40-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587486_169519168","id":"20160921-160610_1401888178","result":{"code":"SUCCESS","type":"TEXT","msg":"\ndataset_loaded: org.apache.spark.rdd.RDD[Array[String]] = UnionRDD[24] at $plus$plus at <console>:57\n\nres: org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)] = MapPartitionsRDD[27] at filter at <console>:55\n\ndownPerDayRDD: org.apache.spark.rdd.RDD[(org.joda.time.LocalDate, Int)] = ShuffledRDD[28] at reduceByKey at <console>:51\n[Lscala.Tuple2;@64257735\ndownPerDay: Array[(org.joda.time.LocalDate, Int)] = Array((2015-09-01,259212), (2015-09-02,216188), (2015-09-03,164475), (2015-09-04,141425), (2015-09-05,91168), (2015-09-06,121198), (2015-09-07,126391), (2015-09-08,161909), (2015-09-09,106014), (2015-09-10,168581), (2015-09-11,178039), (2015-09-12,136263), (2015-09-13,128320), (2015-09-14,181225), (2015-09-15,179402), (2015-09-16,191777), (2015-09-17,182311), (2015-09-18,136835), (2015-09-19,136283), (2015-09-20,135501), (2015-09-21,217846), (2015-09-22,195031), (2015-09-23,185905), (2015-09-24,161953), (2015-09-25,159892), (2015-09-26,119559), (2015-09-27,125160), (2015-09-28,205225), (2015-09-29,201481), (2015-09-30,189749), (2015-10-01,163759), (2015-10-02,144241), (2015-10-03,125717), (2015-10-04,130392), (2015-10-05,209610), (2015..."},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:53:40-0300","dateFinished":"2016-09-29T14:54:13-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:263","focus":true},{"title":"Descargas x Dia","text":"println(\"%table Date\\tDownloads\\n\")\ndownPerDay.foreach{ case(dow,count) => println(dow  + \"\\t\" + count)}\n\n","dateUpdated":"2016-09-28T11:31:21-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"Date","index":0,"aggr":"sum"}],"values":[{"name":"Downloads","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Date","index":0,"aggr":"sum"},"yAxis":{"name":"Downloads","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587486_169519168","id":"20160921-160610_1491516409","result":{"code":"SUCCESS","type":"TABLE","msg":"Date\tDownloads\n\n2015-09-01\t259212\n2015-09-02\t216188\n2015-09-03\t164475\n2015-09-04\t141425\n2015-09-05\t91168\n2015-09-06\t121198\n2015-09-07\t126391\n2015-09-08\t161909\n2015-09-09\t106014\n2015-09-10\t168581\n2015-09-11\t178039\n2015-09-12\t136263\n2015-09-13\t128320\n2015-09-14\t181225\n2015-09-15\t179402\n2015-09-16\t191777\n2015-09-17\t182311\n2015-09-18\t136835\n2015-09-19\t136283\n2015-09-20\t135501\n2015-09-21\t217846\n2015-09-22\t195031\n2015-09-23\t185905\n2015-09-24\t161953\n2015-09-25\t159892\n2015-09-26\t119559\n2015-09-27\t125160\n2015-09-28\t205225\n2015-09-29\t201481\n2015-09-30\t189749\n2015-10-01\t163759\n2015-10-02\t144241\n2015-10-03\t125717\n2015-10-04\t130392\n2015-10-05\t209610\n2015-10-06\t202665\n2015-10-07\t196240\n2015-10-08\t219405\n2015-10-09\t211024\n2015-10-10\t175451\n2015-10-11\t164789\n2015-10-12\t241172\n2015-10-13\t238358\n2015-10-14\t236997\n2015-10-15\t228642\n2015-10-16\t217571\n2015-10-17\t151682\n2015-10-18\t159507\n2015-10-19\t234930\n2015-10-20\t211899\n2015-10-21\t221229\n2015-10-22\t206038\n2015-10-23\t194017\n2015-10-24\t144169\n2015-10-25\t162015\n2015-10-26\t239419\n2015-10-27\t235817\n2015-10-28\t227398\n2015-10-29\t216588\n2015-10-30\t203869\n2015-10-31\t157537\n2015-11-01\t158860\n2015-11-02\t242674\n2015-11-03\t250108\n2015-11-04\t137325\n2015-11-22\t39967\n2015-11-23\t132895\n2015-11-24\t139344\n2015-11-25\t135707\n2015-11-26\t125278\n2015-11-27\t126436\n2015-11-28\t98349\n2015-11-29\t109454\n2015-11-30\t152988\n2015-12-01\t159110\n2015-12-02\t159873\n2015-12-03\t153125\n2015-12-04\t141592\n2015-12-05\t115699\n2015-12-06\t118645\n2015-12-07\t160000\n2015-12-08\t162162\n2015-12-09\t166353\n2015-12-10\t163833\n2015-12-11\t160983\n2015-12-12\t123507\n2015-12-13\t110384\n2015-12-14\t99728\n2015-12-15\t179622\n2015-12-16\t197410\n2015-12-17\t159986\n2015-12-18\t143163\n2015-12-19\t113947\n2015-12-20\t117865\n2015-12-21\t159852\n2015-12-22\t169552\n2015-12-23\t57566\n2015-12-24\t81695\n2015-12-25\t87229\n2015-12-26\t99907\n2015-12-28\t9534\n2015-12-29\t60021\n2015-12-30\t140105\n2015-12-31\t107062\n2016-01-01\t87277\n2016-01-02\t112029\n2016-01-03\t111728\n2016-01-04\t163768\n2016-01-05\t172209\n2016-01-06\t119157\n2016-01-07\t132052\n2016-01-08\t85761\n2016-01-09\t121763\n2016-01-10\t126172\n2016-01-11\t177125\n2016-01-12\t182815\n2016-01-13\t173148\n2016-01-14\t170317\n2016-01-15\t157783\n2016-01-16\t127633\n2016-01-17\t134223\n2016-01-18\t193387\n2016-01-19\t199521\n2016-01-20\t197684\n2016-01-21\t198652\n2016-01-22\t219520\n2016-01-23\t158933\n2016-01-24\t147636\n2016-01-25\t209929\n2016-01-26\t199233\n2016-01-27\t198213\n2016-01-28\t189977\n2016-01-29\t174113\n2016-01-30\t137935\n2016-01-31\t121819\n2016-02-01\t200054\n2016-02-02\t198192\n2016-02-03\t200592\n2016-02-04\t190509\n2016-02-05\t178126\n2016-02-06\t143356\n2016-02-07\t123561\n2016-02-08\t184710\n2016-02-09\t187652\n2016-02-10\t192981\n2016-02-11\t193218\n2016-02-12\t224429\n2016-02-13\t207334\n2016-02-14\t163895\n2016-02-15\t208310\n2016-02-16\t255052\n2016-02-17\t250275\n2016-02-18\t242040\n2016-02-19\t228539\n2016-02-20\t194618\n2016-02-21\t201729\n2016-02-22\t263404\n2016-02-23\t276574\n2016-02-24\t287524\n2016-02-25\t285294\n2016-02-26\t258522\n2016-02-27\t191950\n2016-02-28\t197995\n2016-02-29\t282656\n2016-03-01\t2\n","comment":"","msgTable":[[{"value":"2015-09-01"},{"value":"259212"}],[{"value":"2015-09-02"},{"value":"216188"}],[{"value":"2015-09-03"},{"value":"164475"}],[{"value":"2015-09-04"},{"value":"141425"}],[{"value":"2015-09-05"},{"value":"91168"}],[{"value":"2015-09-06"},{"value":"121198"}],[{"value":"2015-09-07"},{"value":"126391"}],[{"value":"2015-09-08"},{"value":"161909"}],[{"value":"2015-09-09"},{"value":"106014"}],[{"value":"2015-09-10"},{"value":"168581"}],[{"value":"2015-09-11"},{"value":"178039"}],[{"value":"2015-09-12"},{"value":"136263"}],[{"value":"2015-09-13"},{"value":"128320"}],[{"value":"2015-09-14"},{"value":"181225"}],[{"value":"2015-09-15"},{"value":"179402"}],[{"value":"2015-09-16"},{"value":"191777"}],[{"value":"2015-09-17"},{"value":"182311"}],[{"value":"2015-09-18"},{"value":"136835"}],[{"value":"2015-09-19"},{"value":"136283"}],[{"value":"2015-09-20"},{"value":"135501"}],[{"value":"2015-09-21"},{"value":"217846"}],[{"value":"2015-09-22"},{"value":"195031"}],[{"value":"2015-09-23"},{"value":"185905"}],[{"value":"2015-09-24"},{"value":"161953"}],[{"value":"2015-09-25"},{"value":"159892"}],[{"value":"2015-09-26"},{"value":"119559"}],[{"value":"2015-09-27"},{"value":"125160"}],[{"value":"2015-09-28"},{"value":"205225"}],[{"value":"2015-09-29"},{"value":"201481"}],[{"value":"2015-09-30"},{"value":"189749"}],[{"value":"2015-10-01"},{"value":"163759"}],[{"value":"2015-10-02"},{"value":"144241"}],[{"value":"2015-10-03"},{"value":"125717"}],[{"value":"2015-10-04"},{"value":"130392"}],[{"value":"2015-10-05"},{"value":"209610"}],[{"value":"2015-10-06"},{"value":"202665"}],[{"value":"2015-10-07"},{"value":"196240"}],[{"value":"2015-10-08"},{"value":"219405"}],[{"value":"2015-10-09"},{"value":"211024"}],[{"value":"2015-10-10"},{"value":"175451"}],[{"value":"2015-10-11"},{"value":"164789"}],[{"value":"2015-10-12"},{"value":"241172"}],[{"value":"2015-10-13"},{"value":"238358"}],[{"value":"2015-10-14"},{"value":"236997"}],[{"value":"2015-10-15"},{"value":"228642"}],[{"value":"2015-10-16"},{"value":"217571"}],[{"value":"2015-10-17"},{"value":"151682"}],[{"value":"2015-10-18"},{"value":"159507"}],[{"value":"2015-10-19"},{"value":"234930"}],[{"value":"2015-10-20"},{"value":"211899"}],[{"value":"2015-10-21"},{"value":"221229"}],[{"value":"2015-10-22"},{"value":"206038"}],[{"value":"2015-10-23"},{"value":"194017"}],[{"value":"2015-10-24"},{"value":"144169"}],[{"value":"2015-10-25"},{"value":"162015"}],[{"value":"2015-10-26"},{"value":"239419"}],[{"value":"2015-10-27"},{"value":"235817"}],[{"value":"2015-10-28"},{"value":"227398"}],[{"value":"2015-10-29"},{"value":"216588"}],[{"value":"2015-10-30"},{"value":"203869"}],[{"value":"2015-10-31"},{"value":"157537"}],[{"value":"2015-11-01"},{"value":"158860"}],[{"value":"2015-11-02"},{"value":"242674"}],[{"value":"2015-11-03"},{"value":"250108"}],[{"value":"2015-11-04"},{"value":"137325"}],[{"value":"2015-11-22"},{"value":"39967"}],[{"value":"2015-11-23"},{"value":"132895"}],[{"value":"2015-11-24"},{"value":"139344"}],[{"value":"2015-11-25"},{"value":"135707"}],[{"value":"2015-11-26"},{"value":"125278"}],[{"value":"2015-11-27"},{"value":"126436"}],[{"value":"2015-11-28"},{"value":"98349"}],[{"value":"2015-11-29"},{"value":"109454"}],[{"value":"2015-11-30"},{"value":"152988"}],[{"value":"2015-12-01"},{"value":"159110"}],[{"value":"2015-12-02"},{"value":"159873"}],[{"value":"2015-12-03"},{"value":"153125"}],[{"value":"2015-12-04"},{"value":"141592"}],[{"value":"2015-12-05"},{"value":"115699"}],[{"value":"2015-12-06"},{"value":"118645"}],[{"value":"2015-12-07"},{"value":"160000"}],[{"value":"2015-12-08"},{"value":"162162"}],[{"value":"2015-12-09"},{"value":"166353"}],[{"value":"2015-12-10"},{"value":"163833"}],[{"value":"2015-12-11"},{"value":"160983"}],[{"value":"2015-12-12"},{"value":"123507"}],[{"value":"2015-12-13"},{"value":"110384"}],[{"value":"2015-12-14"},{"value":"99728"}],[{"value":"2015-12-15"},{"value":"179622"}],[{"value":"2015-12-16"},{"value":"197410"}],[{"value":"2015-12-17"},{"value":"159986"}],[{"value":"2015-12-18"},{"value":"143163"}],[{"value":"2015-12-19"},{"value":"113947"}],[{"value":"2015-12-20"},{"value":"117865"}],[{"value":"2015-12-21"},{"value":"159852"}],[{"value":"2015-12-22"},{"value":"169552"}],[{"value":"2015-12-23"},{"value":"57566"}],[{"value":"2015-12-24"},{"value":"81695"}],[{"value":"2015-12-25"},{"value":"87229"}],[{"value":"2015-12-26"},{"value":"99907"}],[{"value":"2015-12-28"},{"value":"9534"}],[{"value":"2015-12-29"},{"value":"60021"}],[{"value":"2015-12-30"},{"value":"140105"}],[{"value":"2015-12-31"},{"value":"107062"}],[{"value":"2016-01-01"},{"value":"87277"}],[{"value":"2016-01-02"},{"value":"112029"}],[{"value":"2016-01-03"},{"value":"111728"}],[{"value":"2016-01-04"},{"value":"163768"}],[{"value":"2016-01-05"},{"value":"172209"}],[{"value":"2016-01-06"},{"value":"119157"}],[{"value":"2016-01-07"},{"value":"132052"}],[{"value":"2016-01-08"},{"value":"85761"}],[{"value":"2016-01-09"},{"value":"121763"}],[{"value":"2016-01-10"},{"value":"126172"}],[{"value":"2016-01-11"},{"value":"177125"}],[{"value":"2016-01-12"},{"value":"182815"}],[{"value":"2016-01-13"},{"value":"173148"}],[{"value":"2016-01-14"},{"value":"170317"}],[{"value":"2016-01-15"},{"value":"157783"}],[{"value":"2016-01-16"},{"value":"127633"}],[{"value":"2016-01-17"},{"value":"134223"}],[{"value":"2016-01-18"},{"value":"193387"}],[{"value":"2016-01-19"},{"value":"199521"}],[{"value":"2016-01-20"},{"value":"197684"}],[{"value":"2016-01-21"},{"value":"198652"}],[{"value":"2016-01-22"},{"value":"219520"}],[{"value":"2016-01-23"},{"value":"158933"}],[{"value":"2016-01-24"},{"value":"147636"}],[{"value":"2016-01-25"},{"value":"209929"}],[{"value":"2016-01-26"},{"value":"199233"}],[{"value":"2016-01-27"},{"value":"198213"}],[{"value":"2016-01-28"},{"value":"189977"}],[{"value":"2016-01-29"},{"value":"174113"}],[{"value":"2016-01-30"},{"value":"137935"}],[{"value":"2016-01-31"},{"value":"121819"}],[{"value":"2016-02-01"},{"value":"200054"}],[{"value":"2016-02-02"},{"value":"198192"}],[{"value":"2016-02-03"},{"value":"200592"}],[{"value":"2016-02-04"},{"value":"190509"}],[{"value":"2016-02-05"},{"value":"178126"}],[{"value":"2016-02-06"},{"value":"143356"}],[{"value":"2016-02-07"},{"value":"123561"}],[{"value":"2016-02-08"},{"value":"184710"}],[{"value":"2016-02-09"},{"value":"187652"}],[{"value":"2016-02-10"},{"value":"192981"}],[{"value":"2016-02-11"},{"value":"193218"}],[{"value":"2016-02-12"},{"value":"224429"}],[{"value":"2016-02-13"},{"value":"207334"}],[{"value":"2016-02-14"},{"value":"163895"}],[{"value":"2016-02-15"},{"value":"208310"}],[{"value":"2016-02-16"},{"value":"255052"}],[{"value":"2016-02-17"},{"value":"250275"}],[{"value":"2016-02-18"},{"value":"242040"}],[{"value":"2016-02-19"},{"value":"228539"}],[{"value":"2016-02-20"},{"value":"194618"}],[{"value":"2016-02-21"},{"value":"201729"}],[{"value":"2016-02-22"},{"value":"263404"}],[{"value":"2016-02-23"},{"value":"276574"}],[{"value":"2016-02-24"},{"value":"287524"}],[{"value":"2016-02-25"},{"value":"285294"}],[{"value":"2016-02-26"},{"value":"258522"}],[{"value":"2016-02-27"},{"value":"191950"}],[{"value":"2016-02-28"},{"value":"197995"}],[{"value":"2016-02-29"},{"value":"282656"}],[{"value":"2016-03-01"},{"value":"2"}]],"columnNames":[{"name":"Date","index":0,"aggr":"sum"},{"name":"Downloads","index":1,"aggr":"sum"}],"rows":[["2015-09-01","259212"],["2015-09-02","216188"],["2015-09-03","164475"],["2015-09-04","141425"],["2015-09-05","91168"],["2015-09-06","121198"],["2015-09-07","126391"],["2015-09-08","161909"],["2015-09-09","106014"],["2015-09-10","168581"],["2015-09-11","178039"],["2015-09-12","136263"],["2015-09-13","128320"],["2015-09-14","181225"],["2015-09-15","179402"],["2015-09-16","191777"],["2015-09-17","182311"],["2015-09-18","136835"],["2015-09-19","136283"],["2015-09-20","135501"],["2015-09-21","217846"],["2015-09-22","195031"],["2015-09-23","185905"],["2015-09-24","161953"],["2015-09-25","159892"],["2015-09-26","119559"],["2015-09-27","125160"],["2015-09-28","205225"],["2015-09-29","201481"],["2015-09-30","189749"],["2015-10-01","163759"],["2015-10-02","144241"],["2015-10-03","125717"],["2015-10-04","130392"],["2015-10-05","209610"],["2015-10-06","202665"],["2015-10-07","196240"],["2015-10-08","219405"],["2015-10-09","211024"],["2015-10-10","175451"],["2015-10-11","164789"],["2015-10-12","241172"],["2015-10-13","238358"],["2015-10-14","236997"],["2015-10-15","228642"],["2015-10-16","217571"],["2015-10-17","151682"],["2015-10-18","159507"],["2015-10-19","234930"],["2015-10-20","211899"],["2015-10-21","221229"],["2015-10-22","206038"],["2015-10-23","194017"],["2015-10-24","144169"],["2015-10-25","162015"],["2015-10-26","239419"],["2015-10-27","235817"],["2015-10-28","227398"],["2015-10-29","216588"],["2015-10-30","203869"],["2015-10-31","157537"],["2015-11-01","158860"],["2015-11-02","242674"],["2015-11-03","250108"],["2015-11-04","137325"],["2015-11-22","39967"],["2015-11-23","132895"],["2015-11-24","139344"],["2015-11-25","135707"],["2015-11-26","125278"],["2015-11-27","126436"],["2015-11-28","98349"],["2015-11-29","109454"],["2015-11-30","152988"],["2015-12-01","159110"],["2015-12-02","159873"],["2015-12-03","153125"],["2015-12-04","141592"],["2015-12-05","115699"],["2015-12-06","118645"],["2015-12-07","160000"],["2015-12-08","162162"],["2015-12-09","166353"],["2015-12-10","163833"],["2015-12-11","160983"],["2015-12-12","123507"],["2015-12-13","110384"],["2015-12-14","99728"],["2015-12-15","179622"],["2015-12-16","197410"],["2015-12-17","159986"],["2015-12-18","143163"],["2015-12-19","113947"],["2015-12-20","117865"],["2015-12-21","159852"],["2015-12-22","169552"],["2015-12-23","57566"],["2015-12-24","81695"],["2015-12-25","87229"],["2015-12-26","99907"],["2015-12-28","9534"],["2015-12-29","60021"],["2015-12-30","140105"],["2015-12-31","107062"],["2016-01-01","87277"],["2016-01-02","112029"],["2016-01-03","111728"],["2016-01-04","163768"],["2016-01-05","172209"],["2016-01-06","119157"],["2016-01-07","132052"],["2016-01-08","85761"],["2016-01-09","121763"],["2016-01-10","126172"],["2016-01-11","177125"],["2016-01-12","182815"],["2016-01-13","173148"],["2016-01-14","170317"],["2016-01-15","157783"],["2016-01-16","127633"],["2016-01-17","134223"],["2016-01-18","193387"],["2016-01-19","199521"],["2016-01-20","197684"],["2016-01-21","198652"],["2016-01-22","219520"],["2016-01-23","158933"],["2016-01-24","147636"],["2016-01-25","209929"],["2016-01-26","199233"],["2016-01-27","198213"],["2016-01-28","189977"],["2016-01-29","174113"],["2016-01-30","137935"],["2016-01-31","121819"],["2016-02-01","200054"],["2016-02-02","198192"],["2016-02-03","200592"],["2016-02-04","190509"],["2016-02-05","178126"],["2016-02-06","143356"],["2016-02-07","123561"],["2016-02-08","184710"],["2016-02-09","187652"],["2016-02-10","192981"],["2016-02-11","193218"],["2016-02-12","224429"],["2016-02-13","207334"],["2016-02-14","163895"],["2016-02-15","208310"],["2016-02-16","255052"],["2016-02-17","250275"],["2016-02-18","242040"],["2016-02-19","228539"],["2016-02-20","194618"],["2016-02-21","201729"],["2016-02-22","263404"],["2016-02-23","276574"],["2016-02-24","287524"],["2016-02-25","285294"],["2016-02-26","258522"],["2016-02-27","191950"],["2016-02-28","197995"],["2016-02-29","282656"],["2016-03-01","2"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-28T11:31:21-0300","dateFinished":"2016-09-28T11:31:22-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:264"},{"title":"Descargas x Mes","text":"println(\"%table Date\\tDownloads\\n\")\ndownPerMonth.foreach{ case(month,value) =>  println(month  + \"\\t\" + value)}","dateUpdated":"2016-09-25T10:19:24-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"Date","index":0,"aggr":"sum"}],"values":[{"name":"Downloads","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Date","index":0,"aggr":"sum"},"yAxis":{"name":"Downloads","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160921-160610_900006298","result":{"code":"SUCCESS","type":"TABLE","msg":"Date\tDownloads\n\n01-2016\t4901512\n02-2016\t6213091\n03-2016\t2\n09-2015\t4904318\n10-2015\t6072147\n11-2015\t1849385\n12-2015\t3879510\n","comment":"","msgTable":[[{"value":"01-2016"},{"value":"4901512"}],[{"value":"02-2016"},{"value":"6213091"}],[{"value":"03-2016"},{"value":"2"}],[{"value":"09-2015"},{"value":"4904318"}],[{"value":"10-2015"},{"value":"6072147"}],[{"value":"11-2015"},{"value":"1849385"}],[{"value":"12-2015"},{"value":"3879510"}]],"columnNames":[{"name":"Date","index":0,"aggr":"sum"},{"name":"Downloads","index":1,"aggr":"sum"}],"rows":[["01-2016","4901512"],["02-2016","6213091"],["03-2016","2"],["09-2015","4904318"],["10-2015","6072147"],["11-2015","1849385"],["12-2015","3879510"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-25T10:19:24-0300","dateFinished":"2016-09-25T10:19:25-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:265"},{"title":"Descargas x Dia de la Semana","text":"println(\"%table Date\\tDownloads\\n\")\ndownPerWeekDay.foreach{ case(day,value) =>  println( day + \"\\t\" + value)}","dateUpdated":"2016-09-25T10:19:28-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"multiBarChart","height":300,"optionOpen":false,"keys":[{"name":"Date","index":0,"aggr":"sum"}],"values":[{"name":"Downloads","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Date","index":0,"aggr":"sum"},"yAxis":{"name":"Downloads","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160921-160610_1618857663","result":{"code":"SUCCESS","type":"TABLE","msg":"Date\tDownloads\n\n1\t4496832\n2\t4676943\n3\t4385410\n4\t4104790\n5\t3860386\n6\t3184789\n7\t3110815\n","comment":"","msgTable":[[{"value":"1"},{"value":"4496832"}],[{"value":"2"},{"value":"4676943"}],[{"value":"3"},{"value":"4385410"}],[{"value":"4"},{"value":"4104790"}],[{"value":"5"},{"value":"3860386"}],[{"value":"6"},{"value":"3184789"}],[{"value":"7"},{"value":"3110815"}]],"columnNames":[{"name":"Date","index":0,"aggr":"sum"},{"name":"Downloads","index":1,"aggr":"sum"}],"rows":[["1","4496832"],["2","4676943"],["3","4385410"],["4","4104790"],["5","3860386"],["6","3184789"],["7","3110815"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-25T10:19:26-0300","dateFinished":"2016-09-25T10:19:27-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:266"},{"title":"Segunda Parte: Funciones","text":"/** Carga un archivo contiene el mapeo prefix -> publisher.\n*  \n*  @param \tfile\t\t\t\t\tPath al archivo.\n*  @return\tRDD[(String,String)] \t\n*/\ndef loadPrefixMapping(file : String) : RDD[(String,String)] = {\n    val inputRDD = sc.textFile(file)\n    val res = inputRDD.map{l => val reader = new CSVReader(new StringReader(l));\n        reader.readNext();\n    }\n    \n    val result = res.filter(arr => arr != null).map(line => line.filter(! _.isEmpty)).filter(_(0)(0).isDigit).filter(arr => !arr.isEmpty).map(arr_str => (arr_str(2),arr_str(1)))\n    return result\n}\n\n/** Retorna la metadata asociada a un DOI\n*  \n*  @param \tdoi\t\t\t\t\tDOI\n*  @return\t... \t\n*/\n\n\n\ndef getMetadata(doi:String) : Array[String] = {\n    val BASE_URL = \"http://dx.doi.org/\"\n    //Construyo el paquete Http (metodo GET), en response guardo el paquete Http response (me devuelve un 303 entonces tengo que hacer un request a esa direccion)\n    val response = Http(BASE_URL + doi).header(\"accept\", \"application/citeproc+json\").asString\n    \n    val url_redirect = response.location\n    //Constryo el paquete Http para el url que me devolvio el anterior (me dirijo a donde me indico el 303) //body me permite quedarme solo con el body del response para evitar las lineas marcadas con * que lo estaba haciendo a mano ademas es mas robusto\n    val response2 = url_redirect.map(url => Http(url).header(\"accept\", \"application/json\").asString.body)\n    \n    //elimino las primeras 18 cosas (se puede mejorar)\n    //val strJson = response2.toString.drop(18) *\n    \n    //El string strJson tiene el body de la pagina de respuesta a nuestra busqueda seguido a eso el codigo Http, me quiero quedar solo con la primera parte\n    //val splitJson = strJson.split(\",200,Map\") *\n    \n    //switch case de scala\n    response2 match{\n        case None => return Array()\n        case Some(json_str) => {\n            val parsed = JSON.parseFull(json_str)\n            //Convierto el json en un iterable de instancia de lista\n            val parseMap = parsed.toList.asInstanceOf[List[Map[String,String]]](0)\n            //Con la misma idea del toDateTuple me quedo con los campos que necesito, si no existe le pongo uno por defecto\n            val title = Try(parseMap(\"title\")).getOrElse(\"N/A\").toString\n            val year = (Try((parseMap(\"published-print\").asInstanceOf[Map[String,List[List[Double]]]])(\"date-parts\")(0)(0).toInt).getOrElse(\"N/A\")).toString\n            \n            val publisher = Try(parseMap(\"publisher\")).getOrElse(\"N/A\").toString\n            val book = Try(parseMap(\"container-title\")).getOrElse(\"N/A\").toString\n            val subject = Try((parseMap(\"subject\").asInstanceOf[List[String]])(0)).getOrElse(\"N/A\").toString\n            val type_pub = Try(parseMap(\"type\")).getOrElse(\"N/A\").toString\n            \n            //Construyo el array de salida\n            val result = Array(title,year,type_pub,publisher,book,subject)\n            return result\n        }\n    }\n}\n\n\n\ndef aggregateByDoi(data : RDD[Array[String]]) : RDD[(String,Int)] = {\n    val rdd_doi = data.map(line => (line(1),1))\n    val agg_rdd_doi = rdd_doi.reduceByKey((x,y) => x+y)\n    return agg_rdd_doi\n\n}\n\ndef aggregateByPrefix(data : RDD[(String, Int)]) : RDD[(String, Int)] = {\n    \n    val pref_amountRDD = data.map{case (doi, amount) => (doi.split(\"/\")(0),amount)}\n    val prefix_countRDD = pref_amountRDD.reduceByKey((x,y) => x+y)\n    return prefix_countRDD\n}\n\n\ndef aggregateByCountry(data : RDD[Array[String]]) : RDD[(String, Int)] = {\n    //AL igual que con las fechas si un log no tiene country le pongo un label que luego voy a filtrar para poder hacer el aggregate sin errores\n    val countryRDD = data.map(l => (Try(l(3)).getOrElse(\"NonCountry\"),1)).filter(_._1 != \"NonCountry\")\n    val byCountryAgg = countryRDD.reduceByKey((x,y) => x+y)\n    return byCountryAgg\n}\n","dateUpdated":"2016-09-29T14:54:28-0300","config":{"tableHide":false,"colWidth":12,"editorMode":"ace/mode/scala","editorHide":false,"title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160921-160610_664936555","result":{"code":"SUCCESS","type":"TEXT","msg":"\nloadPrefixMapping: (file: String)org.apache.spark.rdd.RDD[(String, String)]\n\ngetMetadata: (doi: String)Array[String]\n\naggregateByDoi: (data: org.apache.spark.rdd.RDD[Array[String]])org.apache.spark.rdd.RDD[(String, Int)]\n\naggregateByPrefix: (data: org.apache.spark.rdd.RDD[(String, Int)])org.apache.spark.rdd.RDD[(String, Int)]\n\naggregateByCountry: (data: org.apache.spark.rdd.RDD[Array[String]])org.apache.spark.rdd.RDD[(String, Int)]\n"},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:54:28-0300","dateFinished":"2016-09-29T14:54:29-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:267","focus":true},{"title":"Segunda Parte: Ejecucion","text":"val loaded_prefixMappingRDD = loadPrefixMapping(\"/home/mrc/Facultad/BigData/zeppelin-0.6.1-bin-all/doc/publisher_DOI_prefixes.csv\")\nval aggregated_ByDoiRDD = aggregateByDoi(dataset_loaded)\n\n//Tomo los 10 primeros del aggregatedByDoi, ordenados por la cantidad de descargas de modo descendente\nval aggregatedByDoi = aggregated_ByDoiRDD.takeOrdered(10)(Ordering[Int].reverse.on (_._2))\n//Tomo los 10 primeros del aggregatedByCountry, ordenados por la cantidad de descargas de modo descendente\nval aggregatedByCountry = aggregateByCountry(dataset_loaded).takeOrdered(10)(Ordering[Int].reverse.on (_._2))\n\n//Realizo el aggregate by prefix y luego tomo los 10 primeros ordenados por la cantidad de descargas de modo descendente\nval aggregatedByPublisher = aggregateByPrefix(aggregated_ByDoiRDD).takeOrdered(10)(Ordering[Int].reverse.on (_._2))\n\n//Realizo el Join entre los RDD de Publishers y prefixes\nval publi_DownloadsRDD = sc.parallelize(aggregatedByPublisher).join(loaded_prefixMappingRDD).map{case (prefix, downs_publ) => (downs_publ._2, downs_publ._1)}.groupByKey\n\n//Tomo los 10 publisher con mayor cantidad de descargas\nval publisherDownloads = publi_DownloadsRDD.map{case (k, vs) => (k, vs.toList.asInstanceOf[List[Int]](0))}.takeOrdered(10)(Ordering[Int].reverse.on (_._2))\n\n//Obtengo los metadatos de los 10 articulos mas descargados\nval top10Articles = aggregatedByDoi.map(x => (x._1,getMetadata(x._1),x._2))\n","dateUpdated":"2016-09-29T14:54:32-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160921-160610_83780897","result":{"code":"SUCCESS","type":"TEXT","msg":"\nloaded_prefixMappingRDD: org.apache.spark.rdd.RDD[(String, String)] = MapPartitionsRDD[56] at map at <console>:72\n\naggregated_ByDoiRDD: org.apache.spark.rdd.RDD[(String, Int)] = ShuffledRDD[58] at reduceByKey at <console>:51\n\naggregatedByDoi: Array[(String, Int)] = Array((10.1007/978-1-4419-9716-6_11,7988), (10.1056/NEJMoa1402121,6117), (10.1116/1.4904970,2991), (10.1103/PhysRevB.63.224204,2890), (10.1182/asheducation-2015.1.8,2528), (10.4028/www.scientific.net/AMM.7-8.159,2266), (10.1111/j.1365-277X.2004.00520.x,2241), (10.1002/pmic.200600525,2168), (10.1161/CIRCRESAHA.117.306290,2001), (10.1002/smll.201002009,1806))\n\naggregatedByCountry: Array[(String, Int)] = Array((China,4456076), (India,3414582), (Iran,2631035), (Russia,1521434), (United States,1150963), (Brazil,1021540), (Egypt,801106), (Indonesia,780873), (N/A,562693), (France,511145))\n\naggregatedByPublisher: Array[(String, Int)] = Array((10.1016,9296486), (10.1007,2621957), (10.1109,2138064), (10.1021,1871934), (10.1002,1367250), (10.1038,1121881), (10.1039,927239), (10.1080,906221), (10.1111,814996), (10.1177,377267))\n\npubli_DownloadsRDD: org.apache.spark.rdd.RDD[(String, Iterable[Int])] = ShuffledRDD[72] at groupByKey at <console>:75\n\npublisherDownloads: Array[(String, Int)] = Array((Elsevier,9296486), (Springer-Verlag,2621957), (Institute of Electrical and Electronics Engineers,2138064), (American Chemical Society,1871934), (Wiley Blackwell (John Wiley & Sons),1367250), (Nature Publishing Group,1121881), (The Royal Society of Chemistry,927239), (Informa UK (Taylor & Francis),906221), (Wiley Blackwell (Blackwell Publishing),814996), (SAGE Publications,377267))\ntop10Articles: Array[(String, Array[String], Int)] = Array((10.1007/978-1-4419-9716-6_11,Array(Full-scale modal wind turbine tests: comparing shaker excitation with wind excitation, 2011, book-chapter, Springer Science + Business Media, Structural Dynamics and Renewable Energy, Volume 1, N/A),7988), (10.1056/NEJMoa1402121,Array(Comprehensive, Integrative Genomic Analysis of Diffuse Lower-Grade Gliomas, 2015, journal-article, New England Journal of Medicine (NEJM/MMS), New England Journal of Medicine, Medicine(all)),6117), (10.1116/1.4904970,Array(Photosensitive field emission study of SnS2 nanosheets, 2015, journal-article, American Vacuum Society, J. Vac. Sci. Technol. B, N/A),2991), (10.1103/PhysRevB.63.224204,Array(Griffiths effects and quantum critical points in dirty superconductor..."},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:54:32-0300","dateFinished":"2016-09-29T14:55:29-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:269","focus":true},{"title":"Top 10 - Paises","text":"//Uso el resultado de la ejecucion de arriba para construir la tabla\nprintln(\"%table Country\\tDownloads\\n\")\naggregatedByCountry.foreach{ case(country,value) =>  println(country + \"\\t\" + value)}","dateUpdated":"2016-09-29T14:56:37-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"Country","index":0,"aggr":"sum"}],"values":[{"name":"Downloads","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Country","index":0,"aggr":"sum"},"yAxis":{"name":"Downloads","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160922-214559_3226702","result":{"code":"SUCCESS","type":"TABLE","msg":"Country\tDownloads\n\nChina\t4456076\nIndia\t3414582\nIran\t2631035\nRussia\t1521434\nUnited States\t1150963\nBrazil\t1021540\nEgypt\t801106\nIndonesia\t780873\nN/A\t562693\nFrance\t511145\n","comment":"","msgTable":[[{"value":"China"},{"value":"4456076"}],[{"value":"India"},{"value":"3414582"}],[{"value":"Iran"},{"value":"2631035"}],[{"value":"Russia"},{"value":"1521434"}],[{"value":"United States"},{"value":"1150963"}],[{"value":"Brazil"},{"value":"1021540"}],[{"value":"Egypt"},{"value":"801106"}],[{"value":"Indonesia"},{"value":"780873"}],[{"value":"N/A"},{"value":"562693"}],[{"value":"France"},{"value":"511145"}]],"columnNames":[{"name":"Country","index":0,"aggr":"sum"},{"name":"Downloads","index":1,"aggr":"sum"}],"rows":[["China","4456076"],["India","3414582"],["Iran","2631035"],["Russia","1521434"],["United States","1150963"],["Brazil","1021540"],["Egypt","801106"],["Indonesia","780873"],["N/A","562693"],["France","511145"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:56:37-0300","dateFinished":"2016-09-29T14:56:37-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:270","focus":true},{"title":"Top 10 - Editoriales","text":"println(\"%table Editorial\\tDownloads\\n\")\npublisherDownloads.foreach{ case(editorial,value) =>  println( editorial +  \"\\t\" + value)}","dateUpdated":"2016-09-29T14:56:02-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":false,"keys":[{"name":"Editorial","index":0,"aggr":"sum"}],"values":[{"name":"Downloads","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"Editorial","index":0,"aggr":"sum"},"yAxis":{"name":"Downloads","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160922-232434_1831184933","result":{"code":"SUCCESS","type":"TABLE","msg":"Editorial\tDownloads\n\nElsevier\t9296486\nSpringer-Verlag\t2621957\nInstitute of Electrical and Electronics Engineers\t2138064\nAmerican Chemical Society\t1871934\nWiley Blackwell (John Wiley & Sons)\t1367250\nNature Publishing Group\t1121881\nThe Royal Society of Chemistry\t927239\nInforma UK (Taylor & Francis)\t906221\nWiley Blackwell (Blackwell Publishing)\t814996\nSAGE Publications\t377267\n","comment":"","msgTable":[[{"value":"Elsevier"},{"value":"9296486"}],[{"value":"Springer-Verlag"},{"value":"2621957"}],[{"value":"Institute of Electrical and Electronics Engineers"},{"value":"2138064"}],[{"value":"American Chemical Society"},{"value":"1871934"}],[{"value":"Wiley Blackwell (John Wiley & Sons)"},{"value":"1367250"}],[{"value":"Nature Publishing Group"},{"value":"1121881"}],[{"value":"The Royal Society of Chemistry"},{"value":"927239"}],[{"value":"Informa UK (Taylor & Francis)"},{"value":"906221"}],[{"value":"Wiley Blackwell (Blackwell Publishing)"},{"value":"814996"}],[{"value":"SAGE Publications"},{"value":"377267"}]],"columnNames":[{"name":"Editorial","index":0,"aggr":"sum"},{"name":"Downloads","index":1,"aggr":"sum"}],"rows":[["Elsevier","9296486"],["Springer-Verlag","2621957"],["Institute of Electrical and Electronics Engineers","2138064"],["American Chemical Society","1871934"],["Wiley Blackwell (John Wiley & Sons)","1367250"],["Nature Publishing Group","1121881"],["The Royal Society of Chemistry","927239"],["Informa UK (Taylor & Francis)","906221"],["Wiley Blackwell (Blackwell Publishing)","814996"],["SAGE Publications","377267"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:56:02-0300","dateFinished":"2016-09-29T14:56:02-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:271","focus":true},{"title":"Top 10 - Articulos","text":"println(\"%table DOI\\t Title \\t Year \\t Type \\t Publisher \\t Book \\t Subject \\t Downloads\\n\")\ntop10Articles.foreach{case(doi,metadata,down) =>  println(doi + \"\\t\" + metadata(0) + \"\\t\" + metadata(1) + \"\\t\" + metadata(2) + \"\\t\" + metadata(3) + \"\\t\" + metadata(4) + \"\\t\" + metadata(5) + \"\\t\" + down)}\n","dateUpdated":"2016-09-29T14:56:46-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","title":true,"graph":{"mode":"table","height":300,"optionOpen":true,"keys":[{"name":"DOI","index":0,"aggr":"sum"}],"values":[{"name":" Title ","index":1,"aggr":"sum"}],"groups":[],"scatter":{"xAxis":{"name":"DOI","index":0,"aggr":"sum"},"yAxis":{"name":" Title ","index":1,"aggr":"sum"}}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160922-232606_1076916491","result":{"code":"SUCCESS","type":"TABLE","msg":"DOI\t Title \t Year \t Type \t Publisher \t Book \t Subject \t Downloads\n\n10.1007/978-1-4419-9716-6_11\tFull-scale modal wind turbine tests: comparing shaker excitation with wind excitation\t2011\tbook-chapter\tSpringer Science + Business Media\tStructural Dynamics and Renewable Energy, Volume 1\tN/A\t7988\n10.1056/NEJMoa1402121\tComprehensive, Integrative Genomic Analysis of Diffuse Lower-Grade Gliomas\t2015\tjournal-article\tNew England Journal of Medicine (NEJM/MMS)\tNew England Journal of Medicine\tMedicine(all)\t6117\n10.1116/1.4904970\tPhotosensitive field emission study of SnS2 nanosheets\t2015\tjournal-article\tAmerican Vacuum Society\tJ. Vac. Sci. Technol. B\tN/A\t2991\n10.1103/PhysRevB.63.224204\tGriffiths effects and quantum critical points in dirty superconductors without spin-rotation invariance: One-dimensional examples\tN/A\tjournal-article\tAmerican Physical Society (APS)\tPhys. Rev. B\tCondensed Matter Physics\t2890\n10.1182/asheducation-2015.1.8\tIron deficiency: new insights into diagnosis and treatment\t2015\tjournal-article\tAmerican Society of Hematology\tHematology\tMedicine(all)\t2528\n10.4028/www.scientific.net/AMM.7-8.159\tMonitoring the Evolution of Fatigue in Corrugated Paperboard under Random Loads\tN/A\tjournal-article\tTrans Tech Publications\tAMM\tN/A\t2266\n10.1111/j.1365-277X.2004.00520.x\tIntentional mis-reporting of food consumption and its relationship with body mass index and psychological scores in women\t2004\tjournal-article\tWiley-Blackwell\tJournal of Human Nutrition and Dietetics\tNutrition and Dietetics\t2241\n10.1002/pmic.200600525\tConifer defense against insects: Proteome analysis of Sitka spruce (Picea sitchensis) bark induced by mechanical wounding or feeding by white pine weevils (Pissodes strobi)\t2007\tjournal-article\tWiley-Blackwell\tProteomics\tBiochemistry\t2168\n10.1161/CIRCRESAHA.117.306290\tEfficient Gene Disruption in Cultured Primary Human Endothelial Cells by CRISPR/Cas9Novelty and Significance\t2015\tjournal-article\tOvid Technologies (Wolters Kluwer Health)\tCirculation Research\tPhysiology\t2001\n10.1002/smll.201002009\tGraphene-Based Materials: Synthesis, Characterization, Properties, and Applications\t2011\tjournal-article\tWiley-Blackwell\tSmall\tMedicine(all)\t1806\n","comment":"","msgTable":[[{"key":" Year ","value":"10.1007/978-1-4419-9716-6_11"},{"key":" Year ","value":"Full-scale modal wind turbine tests: comparing shaker excitation with wind excitation"},{"key":" Year ","value":"2011"},{"key":" Year ","value":"book-chapter"},{"key":" Year ","value":"Springer Science + Business Media"},{"key":" Year ","value":"Structural Dynamics and Renewable Energy, Volume 1"},{"key":" Year ","value":"N/A"},{"key":" Year ","value":"7988"}],[{"key":" Type ","value":"10.1056/NEJMoa1402121"},{"key":" Type ","value":"Comprehensive, Integrative Genomic Analysis of Diffuse Lower-Grade Gliomas"},{"key":" Type ","value":"2015"},{"key":" Type ","value":"journal-article"},{"key":" Type ","value":"New England Journal of Medicine (NEJM/MMS)"},{"key":" Type ","value":"New England Journal of Medicine"},{"key":" Type ","value":"Medicine(all)"},{"key":" Type ","value":"6117"}],[{"key":" Publisher ","value":"10.1116/1.4904970"},{"key":" Publisher ","value":"Photosensitive field emission study of SnS2 nanosheets"},{"key":" Publisher ","value":"2015"},{"key":" Publisher ","value":"journal-article"},{"key":" Publisher ","value":"American Vacuum Society"},{"key":" Publisher ","value":"J. Vac. Sci. Technol. B"},{"key":" Publisher ","value":"N/A"},{"key":" Publisher ","value":"2991"}],[{"key":" Book ","value":"10.1103/PhysRevB.63.224204"},{"key":" Book ","value":"Griffiths effects and quantum critical points in dirty superconductors without spin-rotation invariance: One-dimensional examples"},{"key":" Book ","value":"N/A"},{"key":" Book ","value":"journal-article"},{"key":" Book ","value":"American Physical Society (APS)"},{"key":" Book ","value":"Phys. Rev. B"},{"key":" Book ","value":"Condensed Matter Physics"},{"key":" Book ","value":"2890"}],[{"key":" Subject ","value":"10.1182/asheducation-2015.1.8"},{"key":" Subject ","value":"Iron deficiency: new insights into diagnosis and treatment"},{"key":" Subject ","value":"2015"},{"key":" Subject ","value":"journal-article"},{"key":" Subject ","value":"American Society of Hematology"},{"key":" Subject ","value":"Hematology"},{"key":" Subject ","value":"Medicine(all)"},{"key":" Subject ","value":"2528"}],[{"key":" Downloads","value":"10.4028/www.scientific.net/AMM.7-8.159"},{"key":" Downloads","value":"Monitoring the Evolution of Fatigue in Corrugated Paperboard under Random Loads"},{"key":" Downloads","value":"N/A"},{"key":" Downloads","value":"journal-article"},{"key":" Downloads","value":"Trans Tech Publications"},{"key":" Downloads","value":"AMM"},{"key":" Downloads","value":"N/A"},{"key":" Downloads","value":"2266"}],[{"value":"10.1111/j.1365-277X.2004.00520.x"},{"value":"Intentional mis-reporting of food consumption and its relationship with body mass index and psychological scores in women"},{"value":"2004"},{"value":"journal-article"},{"value":"Wiley-Blackwell"},{"value":"Journal of Human Nutrition and Dietetics"},{"value":"Nutrition and Dietetics"},{"value":"2241"}],[{"value":"10.1002/pmic.200600525"},{"value":"Conifer defense against insects: Proteome analysis of Sitka spruce (Picea sitchensis) bark induced by mechanical wounding or feeding by white pine weevils (Pissodes strobi)"},{"value":"2007"},{"value":"journal-article"},{"value":"Wiley-Blackwell"},{"value":"Proteomics"},{"value":"Biochemistry"},{"value":"2168"}],[{"value":"10.1161/CIRCRESAHA.117.306290"},{"value":"Efficient Gene Disruption in Cultured Primary Human Endothelial Cells by CRISPR/Cas9Novelty and Significance"},{"value":"2015"},{"value":"journal-article"},{"value":"Ovid Technologies (Wolters Kluwer Health)"},{"value":"Circulation Research"},{"value":"Physiology"},{"value":"2001"}],[{"value":"10.1002/smll.201002009"},{"value":"Graphene-Based Materials: Synthesis, Characterization, Properties, and Applications"},{"value":"2011"},{"value":"journal-article"},{"value":"Wiley-Blackwell"},{"value":"Small"},{"value":"Medicine(all)"},{"value":"1806"}]],"columnNames":[{"name":"DOI","index":0,"aggr":"sum"},{"name":" Title ","index":1,"aggr":"sum"},{"name":" Year ","index":2,"aggr":"sum"},{"name":" Type ","index":3,"aggr":"sum"},{"name":" Publisher ","index":4,"aggr":"sum"},{"name":" Book ","index":5,"aggr":"sum"},{"name":" Subject ","index":6,"aggr":"sum"},{"name":" Downloads","index":7,"aggr":"sum"}],"rows":[["10.1007/978-1-4419-9716-6_11","Full-scale modal wind turbine tests: comparing shaker excitation with wind excitation","2011","book-chapter","Springer Science + Business Media","Structural Dynamics and Renewable Energy, Volume 1","N/A","7988"],["10.1056/NEJMoa1402121","Comprehensive, Integrative Genomic Analysis of Diffuse Lower-Grade Gliomas","2015","journal-article","New England Journal of Medicine (NEJM/MMS)","New England Journal of Medicine","Medicine(all)","6117"],["10.1116/1.4904970","Photosensitive field emission study of SnS2 nanosheets","2015","journal-article","American Vacuum Society","J. Vac. Sci. Technol. B","N/A","2991"],["10.1103/PhysRevB.63.224204","Griffiths effects and quantum critical points in dirty superconductors without spin-rotation invariance: One-dimensional examples","N/A","journal-article","American Physical Society (APS)","Phys. Rev. B","Condensed Matter Physics","2890"],["10.1182/asheducation-2015.1.8","Iron deficiency: new insights into diagnosis and treatment","2015","journal-article","American Society of Hematology","Hematology","Medicine(all)","2528"],["10.4028/www.scientific.net/AMM.7-8.159","Monitoring the Evolution of Fatigue in Corrugated Paperboard under Random Loads","N/A","journal-article","Trans Tech Publications","AMM","N/A","2266"],["10.1111/j.1365-277X.2004.00520.x","Intentional mis-reporting of food consumption and its relationship with body mass index and psychological scores in women","2004","journal-article","Wiley-Blackwell","Journal of Human Nutrition and Dietetics","Nutrition and Dietetics","2241"],["10.1002/pmic.200600525","Conifer defense against insects: Proteome analysis of Sitka spruce (Picea sitchensis) bark induced by mechanical wounding or feeding by white pine weevils (Pissodes strobi)","2007","journal-article","Wiley-Blackwell","Proteomics","Biochemistry","2168"],["10.1161/CIRCRESAHA.117.306290","Efficient Gene Disruption in Cultured Primary Human Endothelial Cells by CRISPR/Cas9Novelty and Significance","2015","journal-article","Ovid Technologies (Wolters Kluwer Health)","Circulation Research","Physiology","2001"],["10.1002/smll.201002009","Graphene-Based Materials: Synthesis, Characterization, Properties, and Applications","2011","journal-article","Wiley-Blackwell","Small","Medicine(all)","1806"]]},"dateCreated":"2016-09-25T10:16:27-0300","dateStarted":"2016-09-29T14:56:46-0300","dateFinished":"2016-09-29T14:56:46-0300","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:272","focus":true},{"text":"","dateUpdated":"2016-09-25T10:16:27-0300","config":{"colWidth":12,"editorMode":"ace/mode/scala","graph":{"mode":"table","height":300,"optionOpen":false,"keys":[],"values":[],"groups":[],"scatter":{}},"enabled":true},"settings":{"params":{},"forms":{}},"jobName":"paragraph_1474852587487_169134419","id":"20160921-160610_991525233","dateCreated":"2016-09-25T10:16:27-0300","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:273"}],"name":"Laboratorio 1 - Conociendo a Sci-Hub","id":"2BXY6RERC","angularObjects":{"2BYG18AFT:shared_process":[],"2BYN9HQZ6:shared_process":[],"2BVHAU8UT:shared_process":[],"2BYTB1E3C:shared_process":[],"2BY3E4HG4:shared_process":[],"2BWYK9YRZ:shared_process":[],"2BYTUGFKV:shared_process":[],"2BWZBUGMQ:shared_process":[],"2BW84U257:shared_process":[],"2BXYDX8TG:shared_process":[],"2BV7ATBB1:shared_process":[],"2BV2XF9GX:shared_process":[],"2BYPH6594:shared_process":[],"2BZ1RHW65:shared_process":[],"2BX4WB4VE:shared_process":[],"2BWQ1292A:shared_process":[],"2BVCM8FP1:shared_process":[],"2BXAMPJ7J:shared_process":[]},"config":{"looknfeel":"default"},"info":{}}